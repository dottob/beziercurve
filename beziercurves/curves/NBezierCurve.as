package beziercurves.curves {	import beziercurves.utils.PointArray;	import flash.geom.Point;	import flash.display.Sprite;	import beziercurves.utils.MathCurves;		/**	 * Copyright (c) 2008 nicolas levavasseur	 * 	 * @author nico	 */	public class NBezierCurve extends Sprite {		private var nPoints:int;		private var pArray:PointArray = new PointArray();		private var bezier:Array /* of Point */ = [];		private var precision:int;		private var thickness:int;		private var color:Number;		private var transparency:Number;						public function NBezierCurve(p0:Point, p1:Point, controls:Array /* of Point */, thickness:int, color:Number, transparency:Number, precision:int) {			this.precision = precision;			this.thickness = thickness;			this.color = color;			this.transparency = transparency;						pArray = PointArray.copy(controls);			pArray.unshift(p0);			nPoints = pArray.push(p1);						draw();		}				public function draw():void {			graphics.clear();			graphics.lineStyle(thickness, color, transparency);			for(var k:Number = 0; k <= precision; k++){				bezier[k] = getNBezierPoint(k);								if( k == 0 ) graphics.moveTo(bezier[0].x, bezier[0].y);				else graphics.lineTo(bezier[k].x, bezier[k].y);			}		}				private function getNBezierPoint(k:int):Point {			var t:Number = k / precision;						var p:Point = new Point();			for(var i:int = 0; i < nPoints; i++){				p = MathCurves.addPoints(p, MathCurves.getNBezierStep(i, nPoints, t, pArray[i]));			}			return p;		}	}}